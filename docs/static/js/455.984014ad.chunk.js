(self.webpackChunkcreate_react_app_typescript=self.webpackChunkcreate_react_app_typescript||[]).push([[455],{1649:function(e,n,o){"use strict";o.d(n,{N:function(){return Z}});var t=o(4569),l=o.n(t),i={request:function(e){return console.log("\u8bf7\u6c42\u62e6\u622a\u5668\u5904\u7406\u4e1a\u52a1\u903b\u8f91",e),"POST"===e.method.toUpperCase()&&(e.headers["Content-Type"]="application/json;charset=utf-8"),e},response:function(e){return console.log("\u8fd4\u56de\u62e6\u622a\u5668\u5904\u7406\u4e1a\u52a1\u903b\u8f91",e),e.data}},a=o(2808),s=o.n(a),r=o(691),u=o.n(r),d=(o(335),l().create({baseURL:{NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_BASEURL:"/production",REACT_APP_VERSION:"v1.0.0"}.VUE_APP_BASE_URL,headers:{"Content-Type":"application/x-www-form-urlencoded;charset=utf-8"},withCredentials:!0,timeout:1e4,transformRequest:[function(e){return e=JSON.stringify(e)}],transformResponse:[function(e){return"string"===typeof e&&e.startsWith("{")&&(e=JSON.parse(e)),e}]}));d.interceptors.request.use((function(e){return v(e),p(e),u().start(),i.request(e)}),(function(e){console.log("error:::",e)})),d.interceptors.response.use((function(e){return v(e),u().done(),i.response(e)}),(function(e){return u().done(),l().isCancel(e)?console.log("repeated request: "+e.message):console.log("error:::",e),Promise.reject(e)}));var c=new Map,p=function(e){var n=[e.method,e.url,s().stringify(e.params),s().stringify(e.data)].join("&");e.cancelToken=e.cancelToken||new(l().CancelToken)((function(e){c.has(n)||c.set(n,e)}))},v=function(e){var n=[e.method,e.url,s().stringify(e.params),s().stringify(e.data)].join("&");c.has(n)&&(c.get(n)(n),c.delete(n))},h=d,Z=function(e){return h.get("https://lismill.usemock.com/table/list",{params:e})}},127:function(e,n,o){"use strict";o.d(n,{M:function(){return L},Z:function(){return U}});var t=o(1413),l=o(9439),i=o(2791),a=o(7083),s=o(947),r=o(2862),u=o(763),d=o.n(u),c=o(3734),p=o(1009),v=o(570),h=o(6106),Z=o(914),m=o(9389),f=o(3326),g=o(5581),x=o(7943),y=o(3099),b=o(7309),j=o(447),C=o(7295),w=o(184),S=c.Z.Option,k=p.Z.RangePicker;function _(){var e,n,o,a,r,u=(0,i.useContext)(L),d=u.config,_=u.DeepConfig,R=u.setDeepConfig,T=u.search,N=v.Z.useForm(),P=(0,l.Z)(N,1)[0],E=(0,i.useState)(!1),D=(0,l.Z)(E,2),I=D[0],O=D[1];return(0,w.jsx)(s.Z,{className:"custom-table-search-card",children:(0,w.jsx)(v.Z,{form:P,name:"table-search",className:"table-search-form",labelCol:{style:{width:100}},onFinish:function(e){var n=(0,t.Z)((0,t.Z)({},_),{},{params:(0,t.Z)((0,t.Z)((0,t.Z)({},_.params),e),{},{pagination:(0,t.Z)((0,t.Z)({},_.params.pagination),{},{page:1})}),footer:(0,t.Z)((0,t.Z)({},_.footer),{},{pagination:(0,t.Z)((0,t.Z)({},_.footer.pagination),{},{others:(0,t.Z)((0,t.Z)({},_.footer.pagination.others),{},{total:d.footer.pagination.others.total,current:1})})})});R(n),T(n.params)},children:(0,w.jsxs)(h.Z,{gutter:32,children:[(null!==(e=function(){var e,n;return I?null===_||void 0===_||null===(e=_.search)||void 0===e?void 0:e.forms:null===_||void 0===_||null===(n=_.search)||void 0===n?void 0:n.forms.slice(0,3)}())&&void 0!==e?e:[]).map((function(e,n){var o,l,i,a,s,r,u,d,h,y,b,j,C,_,R,T,N,P,E,D,I,O,K,A,L,U,B,F,V;return(0,w.jsxs)(Z.Z,{sm:24,md:12,lg:8,xl:6,style:{padding:0},children:["input"===e.type&&(0,w.jsx)(v.Z.Item,{label:null!==(o=e.label)&&void 0!==o?o:"",name:null!==(l=e.name)&&void 0!==l?l:"",rules:null!==(i=e.rules)&&void 0!==i?i:[],children:(0,w.jsx)(m.Z,(0,t.Z)({placeholder:"\u8bf7\u8f93\u5165"+e.name,allowClear:!0},e.others))}),"number"===e.type&&(0,w.jsx)(v.Z.Item,{label:null!==(a=e.label)&&void 0!==a?a:"",name:null!==(s=e.name)&&void 0!==s?s:"",rules:null!==(r=e.rules)&&void 0!==r?r:[],children:(0,w.jsx)(f.Z,(0,t.Z)({placeholder:"\u8bf7\u8f93\u5165"+e.name,style:{width:"100%"}},e.others))}),"switch"===e.type&&(0,w.jsx)(v.Z.Item,{label:null!==(u=e.label)&&void 0!==u?u:"",name:null!==(d=e.name)&&void 0!==d?d:"",initialValue:null!==(h=null===e||void 0===e||null===(y=e.others)||void 0===y?void 0:y.defaultChecked)&&void 0!==h&&h,valuePropName:"checked",children:(0,w.jsx)(g.Z,{})}),"select"===e.type&&(0,w.jsx)(v.Z.Item,{label:null!==(b=e.label)&&void 0!==b?b:"",name:null!==(j=e.name)&&void 0!==j?j:"",rules:null!==(C=e.rules)&&void 0!==C?C:[],children:(0,w.jsx)(c.Z,(0,t.Z)((0,t.Z)({placeholder:"\u8bf7\u9009\u62e9"+e.name,allowClear:!0},e.others),{},{children:(null===e||void 0===e||null===(_=e.options)||void 0===_?void 0:_.length)&&e.options.map((function(e){return(0,w.jsx)(S,{value:e.value,disabled:e.disabled,children:e.value},e.key)}))}))}),"date"===e.type&&(0,w.jsx)(v.Z.Item,{label:null!==(R=e.label)&&void 0!==R?R:"",name:null!==(T=e.name)&&void 0!==T?T:"",rules:null!==(N=e.rules)&&void 0!==N?N:[],children:(0,w.jsx)(p.Z,(0,t.Z)({placeholder:"\u8bf7\u9009\u62e9"+e.name,style:{width:"100%"}},e.others))}),"time"===e.type&&(0,w.jsx)(v.Z.Item,{label:null!==(P=e.label)&&void 0!==P?P:"",name:null!==(E=e.name)&&void 0!==E?E:"",rules:null!==(D=e.rules)&&void 0!==D?D:[],children:(0,w.jsx)(x.Z,(0,t.Z)({placeholder:"\u8bf7\u9009\u62e9"+e.name,style:{width:"100%"}},e.others))}),"datetime"===e.type&&(0,w.jsx)(v.Z.Item,{label:null!==(I=e.label)&&void 0!==I?I:"",name:null!==(O=e.name)&&void 0!==O?O:"",rules:null!==(K=e.rules)&&void 0!==K?K:[],children:(0,w.jsx)(p.Z,(0,t.Z)({placeholder:"\u8bf7\u9009\u62e9"+e.name,showTime:!0,style:{width:"100%"}},e.others))}),"daterange"===e.type&&(0,w.jsx)(v.Z.Item,{label:null!==(A=e.label)&&void 0!==A?A:"",name:null!==(L=e.name)&&void 0!==L?L:"",rules:null!==(U=e.rules)&&void 0!==U?U:[],children:(0,w.jsx)(k,(0,t.Z)({placeholder:["\u5f00\u59cb\u65e5\u671f","\u7ed3\u675f\u65e5\u671f"],style:{width:"100%"}},e.others))}),"datetimerange"===e.type&&(0,w.jsx)(v.Z.Item,{label:null!==(B=e.label)&&void 0!==B?B:"",name:null!==(F=e.name)&&void 0!==F?F:"",rules:null!==(V=e.rules)&&void 0!==V?V:[],children:(0,w.jsx)(k,(0,t.Z)({placeholder:["\u5f00\u59cb\u65f6\u95f4","\u7ed3\u675f\u65f6\u95f4"],showTime:!0,style:{width:"100%"}},e.others))})]},n)})),(0,w.jsx)(Z.Z,{flex:"auto",style:{textAlign:"right"},children:(0,w.jsxs)(y.Z,{children:[!(null!==_&&void 0!==_&&null!==(n=_.search)&&void 0!==n&&n.hiddenSubmit)&&(0,w.jsx)(b.Z,{type:"primary",htmlType:"submit",children:"\u67e5\u8be2"}),!(null!==_&&void 0!==_&&null!==(o=_.search)&&void 0!==o&&o.hiddenReset)&&(0,w.jsx)(b.Z,{onClick:function(){P.resetFields();var e=(0,t.Z)((0,t.Z)({},_),{},{params:{status:_.params.status,pagination:(0,t.Z)((0,t.Z)({},_.params.pagination),{},{page:1})},footer:(0,t.Z)((0,t.Z)({},_.footer),{},{pagination:(0,t.Z)((0,t.Z)({},_.footer.pagination),{},{others:(0,t.Z)((0,t.Z)({},_.footer.pagination.others),{},{total:d.footer.pagination.others.total,current:1})})})});R(e),T(e.params)},children:"\u91cd\u7f6e"}),(null===_||void 0===_||null===(a=_.search)||void 0===a||null===(r=a.forms)||void 0===r?void 0:r.length)>3&&(0,w.jsx)(b.Z,{type:"text",onClick:function(){return O(!I)},children:I?(0,w.jsxs)("span",{children:[(0,w.jsx)(j.Z,{})," \u6298\u53e0"]}):(0,w.jsxs)("span",{children:[(0,w.jsx)(C.Z,{})," \u5c55\u5f00"]})})]})})]})})})}var R=o(4960);function T(){var e,n,o,l,a,s,r,u,d,c,p=(0,i.useContext)(L),v=p.config,h=p.DeepConfig,Z=p.setDeepConfig,m=p.handler,f=p.search;return(0,w.jsxs)("div",{className:"custom-table-tools flex m-b16",style:{justifyContent:"space-between"},children:[(null===h||void 0===h||null===(e=h.tools)||void 0===e||null===(n=e.tabs)||void 0===n?void 0:n.visible)&&(0,w.jsx)(R.ZP.Group,(0,t.Z)((0,t.Z)({className:"tabs",buttonStyle:"solid",onChange:function(e){var n=(0,t.Z)((0,t.Z)({},h),{},{params:(0,t.Z)((0,t.Z)({},h.params),{},{status:e.target.value,pagination:(0,t.Z)((0,t.Z)({},h.params.pagination),{},{page:1})}),footer:(0,t.Z)((0,t.Z)({},h.footer),{},{pagination:(0,t.Z)((0,t.Z)({},h.footer.pagination),{},{others:(0,t.Z)((0,t.Z)({},h.footer.pagination.others),{},{total:v.footer.pagination.others.total,current:1})})})});Z(n),f(n.params)}},h.tools.tabs.others),{},{children:(null===h||void 0===h||null===(o=h.tools)||void 0===o||null===(l=o.tabs)||void 0===l||null===(a=l.data)||void 0===a?void 0:a.length)&&h.tools.tabs.data.map((function(e){return(0,w.jsx)(R.ZP.Button,(0,t.Z)((0,t.Z)({value:e.value},e.others),{},{children:e.key}),e.key)}))})),(null===h||void 0===h||null===(s=h.tools)||void 0===s||null===(r=s.actions)||void 0===r?void 0:r.visible)&&(0,w.jsx)(y.Z,{className:"toolbar",children:(null===h||void 0===h||null===(u=h.tools)||void 0===u||null===(d=u.actions)||void 0===d||null===(c=d.buttons)||void 0===c?void 0:c.length)&&h.tools.actions.buttons.map((function(e){return(0,w.jsx)(b.Z,(0,t.Z)((0,t.Z)({type:e.type,onClick:function(){return m(e.key)}},e.others),{},{children:e.text}),e.key)}))})]})}var N=o(7528),P=o(5594),E=o(2649),D=o(1037);function I(){var e,n,o,a,s,r=(0,i.useContext)(L),u=r.config,d=r.DeepConfig,c=r.setDeepConfig,p=r.handler,v=null!==d&&void 0!==d&&null!==(e=d.table)&&void 0!==e&&null!==(n=e.columns)&&void 0!==n&&n.length?d.table.columns.map((function(e){return"custom"===e.type?(0,t.Z)((0,t.Z)({},e),{},{render:function(n,o,t){return(0,w.jsx)("div",{className:"dangerouslySetInnerHTML",dangerouslySetInnerHTML:{__html:e.html(n,o,t)}})}}):"index"===e.type?(0,t.Z)((0,t.Z)({width:90,title:"#"},e),{},{render:function(e,n,o){return"".concat(o+1)}}):"tag"===e.type?(0,t.Z)((0,t.Z)({},e),{},{render:function(n,o,t){return(0,w.jsx)(N.Z,{color:e.color,children:n})}}):"status"===e.type?(0,t.Z)((0,t.Z)({},e),{},{render:function(n,o,t){return(0,w.jsx)(P.Z,{status:e.status,text:n})}}):"image"===e.type?(0,t.Z)((0,t.Z)({},e),{},{render:function(e,n,o){return(0,w.jsxs)(y.Z,{children:[(0,w.jsx)(E.C,{src:"https://joeschmoe.io/api/v1/random"}),(0,w.jsx)("span",{children:e})]})}}):"operate"===e.type?(0,t.Z)((0,t.Z)({},e),{},{render:function(n,o){var t;if(null!==e&&void 0!==e&&null!==(t=e.buttons)&&void 0!==t&&t.length)return(0,w.jsx)(y.Z,{size:"middle",children:e.buttons.map((function(e){return(0,w.jsx)(b.Z,{type:e.type,onClick:function(){return p(e.key,o)},children:e.text},e.key)}))})}}):e})):[],h=(0,i.useState)([]),Z=(0,l.Z)(h,2),m=Z[0],f=Z[1];(0,i.useEffect)((function(){return f(d.params.selectedRowKeys)}),[d.params.selectedRowKeys]);var g=!(null===d||void 0===d||null===(o=d.table)||void 0===o||null===(a=o.selection)||void 0===a||!a.visible)&&{onChange:function(e,n){if(null!==d&&void 0!==d&&d.params){f(e);var o=(0,t.Z)((0,t.Z)({},d),{},{params:(0,t.Z)((0,t.Z)({},d.params),{},{selections:n})});c(o),u.params.selections=n}},getCheckboxProps:function(e){var n,o;return{disabled:d.choose&&(null!==(n=null===d||void 0===d||null===(o=d.params)||void 0===o?void 0:o.selectedRowKeys)&&void 0!==n?n:[]).includes(e.id)}},type:d.table.selection.type,selectedRowKeys:m};return(0,w.jsx)(w.Fragment,{children:(null===d||void 0===d||null===(s=d.table)||void 0===s?void 0:s.visible)&&(0,w.jsx)(D.Z,(0,t.Z)((0,t.Z)({className:"custom-table",dataSource:d.table.dataSource,rowKey:function(e){return e.id},rowSelection:g,pagination:!1},d.table),{},{columns:v}))})}var O=o(2258),K=o(2159);function A(){var e,n,o,l,a,s,r,u,d,c,p=(0,i.useContext)(K.I).collapsed,v=(0,i.useContext)(L),h=v.config,Z=v.DeepConfig,m=v.setDeepConfig,f=v.handler,g=v.search;return(0,w.jsxs)("div",{className:"custom-table-footer flex ".concat((null===Z||void 0===Z||null===(e=Z.footer)||void 0===e?void 0:e.fixed)&&"fixed"),style:{margin:"32px 0 16px 0",left:p?"81px":"231px",justifyContent:null!==Z&&void 0!==Z&&null!==(n=Z.footer)&&void 0!==n&&null!==(o=n.actions)&&void 0!==o&&o.visible?"space-between":"end"},children:[(null===Z||void 0===Z||null===(l=Z.footer)||void 0===l||null===(a=l.actions)||void 0===a?void 0:a.visible)&&(0,w.jsx)("div",{className:"actions",children:(0,w.jsx)(y.Z,{children:null===Z||void 0===Z||null===(s=Z.footer)||void 0===s||null===(r=s.actions)||void 0===r?void 0:r.buttons.map((function(e){return(0,w.jsx)(b.Z,(0,t.Z)((0,t.Z)({type:e.type,onClick:function(){return f(e.key)}},e.others),{},{children:e.text}),e.key)}))})}),(null===Z||void 0===Z||null===(u=Z.footer)||void 0===u?void 0:u.pagination)&&(0,w.jsx)("div",{className:"pagination",children:(0,w.jsx)(O.Z,(0,t.Z)((0,t.Z)({},null===Z||void 0===Z||null===(d=Z.footer)||void 0===d||null===(c=d.pagination)||void 0===c?void 0:c.others),{},{onChange:function(e,n){var o=(0,t.Z)((0,t.Z)({},Z),{},{params:(0,t.Z)((0,t.Z)({},Z.params),{},{pagination:(0,t.Z)((0,t.Z)({},Z.params.pagination),{},{page:e,pageSize:n})}),footer:(0,t.Z)((0,t.Z)({},Z.footer),{},{pagination:(0,t.Z)((0,t.Z)({},Z.footer.pagination),{},{others:(0,t.Z)((0,t.Z)({},Z.footer.pagination.others),{},{total:h.footer.pagination.others.total,current:e})})})});m(o),g(o.params)}}))})]})}var L=(0,i.createContext)({});function U(e){var n,o,u,c,p=e.config,v=e.handler,h=e.search,Z=e.loading,m=e.chooseVisible,f=e.setChooseVisible,g=e.chooses,x=e.setChooses,y=(0,i.useState)(p),b=(0,l.Z)(y,2),j=b[0],C=b[1];(0,i.useEffect)((function(){!function(){var e=(0,t.Z)((0,t.Z)({},j),{},{params:(0,t.Z)((0,t.Z)({},j.params),{},{selections:g,defaultSelections:g,selectedRowKeys:(null!==g&&void 0!==g?g:[]).map((function(e){return e.id}))})});C(e)}()}),[g]);var S=(0,w.jsxs)(a.Z,{spinning:Z,children:[(null===p||void 0===p||null===(n=p.search)||void 0===n?void 0:n.visible)&&(0,w.jsx)(_,{}),(0,w.jsxs)(s.Z,{className:(null===p||void 0===p||null===(o=p.search)||void 0===o?void 0:o.visible)&&"m-t16",style:{marginBottom:(null===p||void 0===p||null===(u=p.footer)||void 0===u?void 0:u.fixed)&&"68px"},children:[(null===p||void 0===p||null===(c=p.tools)||void 0===c?void 0:c.visible)&&(0,w.jsx)(T,{}),(0,w.jsx)(I,{}),(0,w.jsx)(A,{})]})]});return(0,w.jsxs)(L.Provider,{value:{config:p,DeepConfig:j,setDeepConfig:C,handler:v,search:h},children:[!(null!==j&&void 0!==j&&j.choose)&&S,(null===j||void 0===j?void 0:j.choose)&&(0,w.jsx)(r.Z,(0,t.Z)((0,t.Z)({className:"table-choose-modal",title:"\u6dfb\u52a0\u6570\u636e",width:1e3,keyboard:!1,maskClosable:!1,visible:m,onCancel:function(){var e=(0,t.Z)((0,t.Z)({},j),{},{params:(0,t.Z)((0,t.Z)({},j.params),{},{selections:g,defaultSelections:g,selectedRowKeys:g.map((function(e){return e.id}))})});C(e),f(!1)},onOk:function(){var e=d().unionBy(j.params.defaultSelections,j.params.selections,"id"),n=e.map((function(e){return e.id})),o=(0,t.Z)((0,t.Z)({},j),{},{params:(0,t.Z)((0,t.Z)({},j.params),{},{defaultSelections:e,selectedRowKeys:n})});C(o),x(e),f(!1)},destroyOnClose:!0},j.choose),{},{children:S}))]})}},4654:function(){}}]);
//# sourceMappingURL=455.984014ad.chunk.js.map