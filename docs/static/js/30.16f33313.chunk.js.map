{"version":3,"file":"static/js/30.16f33313.chunk.js","mappings":"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","sources":["views/Develop/TableEdit/config.ts","components/TableEdit/index.tsx","views/Develop/TableEdit/index.tsx"],"sourcesContent":["/*\n * @Description:\n * @Author: Lean\n * @Date: 2022-03-12 17:03:49\n * @LastEditTime: 2022-03-15 16:17:15\n * @FilePath: \\create-react-app-typescript\\src\\views\\Develop\\TableEdit\\config.ts\n */\nconst config: any = {\n  disabled: false,\n  hiddenHeaderHandle: false,\n  hiddenFooterHandle: false,\n  columns: [\n    { type: \"index\" },\n    {\n      title: \"姓名\",\n      dataIndex: \"name\",\n      key: \"name\",\n    },\n    {\n      type: \"select\",\n      title: \"性别\",\n      dataIndex: \"sex\",\n      key: \"sex\",\n      options: [\n        { label: \"未知\", value: \"0\" },\n        { label: \"男\", value: \"1\" },\n        { label: \"女\", value: \"2\" },\n      ],\n      others: {\n        style: {\n          minWidth: 100,\n        },\n      },\n    },\n    {\n      type: \"date\",\n      title: \"日期\",\n      dataIndex: \"date\",\n      key: \"date\",\n    },\n    {\n      type: \"time\",\n      title: \"时间\",\n      dataIndex: \"time\",\n      key: \"time\",\n    },\n    {\n      type: \"daterange\",\n      title: \"日期范围\",\n      dataIndex: \"daterange\",\n      key: \"daterange\",\n    },\n    {\n      type: \"datetimerange\",\n      title: \"日期时间范围\",\n      dataIndex: \"datetimerange\",\n      key: \"datetimerange\",\n    },\n    {\n      title: \"年龄\",\n      dataIndex: \"age\",\n      key: \"age\",\n    },\n    {\n      title: \"城市\",\n      dataIndex: \"city\",\n      key: \"city\",\n    },\n    {\n      type: \"operate\",\n      title: \"操作\",\n      dataIndex: \"operate\",\n      key: \"operate\",\n      width: 200,\n      button: {\n        type: \"link\",\n        danger: true,\n        text: \"删除\",\n      },\n    },\n  ],\n  dataSource: [\n    { id: 0, sex: \"1\", name: \"lean\", age: 1, city: \"beijing\" },\n    { id: 1, sex: \"0\", name: \"lee\", age: 6, city: \"shanghai\" },\n    { id: 2, name: \"leelean\", age: 3, city: \"sh\" },\n  ],\n  others: {\n    index: true,\n    size: \"small\",\n  },\n};\nexport default config;\n","/*\n * @Description:\n * @Author: Lean\n * @Date: 2022-03-10 15:55:38\n * @LastEditTime: 2022-03-15 17:00:44\n * @FilePath: \\create-react-app-typescript\\src\\components\\TableEdit\\index.tsx\n */\nimport React from \"react\";\nimport { Table, Form, Input, Button, Select, DatePicker, TimePicker } from \"antd\";\nimport \"./index.scss\";\n\nconst Option = Select;\nconst { RangePicker } = DatePicker;\n\nexport default function TableEdit(props) {\n  const { DeepConfig, setDeepConfig } = props;\n  const columns = DeepConfig?.columns?.length\n    ? DeepConfig.columns.map((item) => {\n        if (item.type === \"operate\") {\n          // 删除按钮\n          return {\n            ...item,\n            render: (text, record, index) => {\n              return (\n                <Button\n                  key={item.button.key}\n                  type={item.button.type}\n                  onClick={() => {\n                    const DATAS = DeepConfig.dataSource.filter((d) => d.id !== record.id);\n                    setDeepConfig({ ...DeepConfig, dataSource: DATAS });\n                    console.log(index, DATAS, DeepConfig);\n                  }}\n                  disabled={DeepConfig.disabled}\n                  {...item.button}\n                >\n                  {item.button.text}\n                </Button>\n              );\n            },\n          };\n        } else if (item.type === \"index\") {\n          // 索引号\n          return {\n            width: 90,\n            title: \"#\",\n            ...item,\n            render: (text, record, index) => `${index + 1}`,\n          };\n        } else if (item.type === \"select\") {\n          // 下拉框\n          return {\n            width: 90,\n            title: \"#\",\n            ...item,\n            render: (text, record, index) => {\n              return (\n                <Form>\n                  <Form.Item\n                    name={`${record.dataIndex}-${index}`}\n                    rules={[{ required: true, message: `请选择${item.title}` }]}\n                  >\n                    <Select\n                      allowClear\n                      placeholder=\"请选择\"\n                      defaultValue={record[item.dataIndex]}\n                      disabled={DeepConfig.disabled}\n                      onChange={(v) => {\n                        DeepConfig.dataSource[index] = {\n                          ...DeepConfig.dataSource[index],\n                          [item.dataIndex]: v,\n                        };\n                        setDeepConfig({ ...DeepConfig });\n                      }}\n                      {...item.others}\n                    >\n                      {item?.options?.length && item.options.map((o) => <Option value={o.value}>{o.label}</Option>)}\n                    </Select>\n                  </Form.Item>\n                </Form>\n              );\n            },\n          };\n        } else if (item.type === \"date\") {\n          // 日期\n          return {\n            ...item,\n            render: (text, record, index) => {\n              return (\n                <Form>\n                  <Form.Item\n                    name={`${record.dataIndex}-${index}`}\n                    rules={[{ required: true, message: `请选择${item.title}` }]}\n                  >\n                    <DatePicker\n                      allowClear\n                      placeholder=\"请选择\"\n                      defaultValue={record[item.dataIndex]}\n                      disabled={DeepConfig.disabled}\n                      onChange={(time, timeString) => {\n                        DeepConfig.dataSource[index] = {\n                          ...DeepConfig.dataSource[index],\n                          [item.dataIndex]: timeString,\n                        };\n                        setDeepConfig({ ...DeepConfig });\n                      }}\n                      {...item.others}\n                    />\n                  </Form.Item>\n                </Form>\n              );\n            },\n          };\n        } else if (item.type === \"time\") {\n          // 时间\n          return {\n            ...item,\n            render: (text, record, index) => {\n              return (\n                <Form>\n                  <Form.Item\n                    name={`${record.dataIndex}-${index}`}\n                    rules={[{ required: true, message: `请选择${item.title}` }]}\n                  >\n                    <TimePicker\n                      allowClear\n                      placeholder=\"请选择\"\n                      defaultValue={record[item.dataIndex]}\n                      disabled={DeepConfig.disabled}\n                      onChange={(time, timeString) => {\n                        DeepConfig.dataSource[index] = {\n                          ...DeepConfig.dataSource[index],\n                          [item.dataIndex]: timeString,\n                        };\n                        setDeepConfig({ ...DeepConfig });\n                      }}\n                      {...item.others}\n                    />\n                  </Form.Item>\n                </Form>\n              );\n            },\n          };\n        } else if (item.type === \"daterange\") {\n          // 日期范围\n          return {\n            ...item,\n            render: (text, record, index) => {\n              return (\n                <Form>\n                  <Form.Item\n                    name={`${record.dataIndex}-${index}`}\n                    rules={[{ required: true, message: `请选择${item.title}` }]}\n                  >\n                    <RangePicker\n                      allowClear\n                      placeholder={[\"开始日期\", \"结束日期\"]}\n                      defaultValue={record[item.dataIndex]}\n                      disabled={DeepConfig.disabled}\n                      onChange={(time, timeString) => {\n                        DeepConfig.dataSource[index] = {\n                          ...DeepConfig.dataSource[index],\n                          [item.dataIndex]: timeString,\n                        };\n                        setDeepConfig({ ...DeepConfig });\n                      }}\n                      {...item.others}\n                    />\n                  </Form.Item>\n                </Form>\n              );\n            },\n          };\n        } else if (item.type === \"datetimerange\") {\n          // 日期时间范围\n          return {\n            ...item,\n            render: (text, record, index) => {\n              return (\n                <Form>\n                  <Form.Item\n                    name={`${record.dataIndex}-${index}`}\n                    rules={[{ required: true, message: `请选择${item.title}` }]}\n                  >\n                    <RangePicker\n                      allowClear\n                      showTime\n                      placeholder={[\"开始时间\", \"结束时间\"]}\n                      defaultValue={record[item.dataIndex]}\n                      disabled={DeepConfig.disabled}\n                      onChange={(time, timeString) => {\n                        DeepConfig.dataSource[index] = {\n                          ...DeepConfig.dataSource[index],\n                          [item.dataIndex]: timeString,\n                        };\n                        setDeepConfig({ ...DeepConfig });\n                      }}\n                      {...item.others}\n                    />\n                  </Form.Item>\n                </Form>\n              );\n            },\n          };\n        } else {\n          return {\n            ...item,\n            render: (text, record, index) => {\n              return (\n                <Form>\n                  <Form.Item\n                    name={`${record.dataIndex}-${index}`}\n                    rules={[{ required: true, message: `请输入${item.title}` }]}\n                  >\n                    <Input\n                      placeholder=\"请输入\"\n                      allowClear\n                      defaultValue={record[item.dataIndex]}\n                      onChange={(e) => {\n                        DeepConfig.dataSource[index] = {\n                          ...DeepConfig.dataSource[index],\n                          [item.dataIndex]: e.target.value,\n                        };\n                        setDeepConfig({ ...DeepConfig });\n                      }}\n                      disabled={DeepConfig.disabled}\n                      {...item.others}\n                    />\n                  </Form.Item>\n                </Form>\n              );\n            },\n          };\n        }\n      })\n    : [];\n  return (\n    <div className=\"table-edit\">\n      {!DeepConfig.disabled && !DeepConfig.hiddenHeaderHandle && (\n        <Button\n          className=\"m-t16\"\n          type=\"primary\"\n          onClick={() => setDeepConfig({ ...DeepConfig, dataSource: [...DeepConfig.dataSource, { id: Date.now() }] })}\n        >\n          添加数据\n        </Button>\n      )}\n      <Table\n        className=\"m-t16\"\n        columns={columns}\n        dataSource={DeepConfig.dataSource}\n        pagination={false}\n        rowKey=\"id\"\n        {...DeepConfig.others}\n      />\n\n      {!DeepConfig.disabled && !DeepConfig.hiddenFooterHandle && (\n        <Button\n          className=\"m-t16\"\n          type=\"dashed\"\n          block\n          onClick={() => setDeepConfig({ ...DeepConfig, dataSource: [...DeepConfig.dataSource, { id: Date.now() }] })}\n        >\n          添加数据\n        </Button>\n      )}\n    </div>\n  );\n}\n","/*\n * @Description:\n * @Author: Lean\n * @Date: 2022-03-10 15:44:05\n * @LastEditTime: 2022-03-15 15:07:36\n * @FilePath: \\create-react-app-typescript\\src\\views\\Develop\\TableEdit\\index.tsx\n */\nimport React, { useState } from \"react\";\nimport { Card, Button } from \"antd\";\nimport config from \"./config\";\nimport TableEdit from \"@/components/TableEdit\";\n\nexport default function DevelopTableEdit() {\n  const [DeepConfig, setDeepConfig] = useState(config);\n  return (\n    <>\n      <Card>\n        <TableEdit DeepConfig={DeepConfig} setDeepConfig={setDeepConfig} />\n      </Card>\n      <Card className=\"m-t16\">\n        <Button\n          type=\"primary\"\n          onClick={() => {\n            setDeepConfig({\n              ...DeepConfig,\n              disabled: !DeepConfig.disabled,\n            });\n          }}\n        >\n          编辑/禁用\n        </Button>\n        <div className=\"m-t16\">{JSON.stringify(DeepConfig.dataSource)}</div>\n      </Card>\n    </>\n  );\n}\n"],"names":["disabled","hiddenHeaderHandle","hiddenFooterHandle","columns","type","title","dataIndex","key","options","label","value","others","style","minWidth","width","button","danger","text","dataSource","id","sex","name","age","city","index","size","Option","Select","RangePicker","DatePicker","TableEdit","props","DeepConfig","setDeepConfig","length","map","item","render","record","onClick","DATAS","filter","d","console","log","rules","required","message","allowClear","placeholder","defaultValue","onChange","v","o","time","timeString","showTime","e","target","className","Date","now","pagination","rowKey","block","DevelopTableEdit","useState","config","JSON","stringify"],"sourceRoot":""}